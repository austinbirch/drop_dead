var ImageManager=function(){this.imageHashTable={};this.srcHashTable={};this.imageCount=0;this.loadCount=0};ImageManager.prototype.loadImages=function(f,e){console.log("load images (ImageManager)");var h={};var g;for(g in this.srcHashTable){h[g]=new Image();oldSelf=this;h[g].onload=function(){console.log("tmpImage["+this.id+"].onload");oldSelf.imageHashTable[this.id]=h[this.id];oldSelf.loadCount++;if(oldSelf.loadCount==oldSelf.imageCount){if($.isFunction(e)){e.call(f)}}};h[g].src=this.srcHashTable[g];h[g].id=g}};ImageManager.prototype.addImage=function(d,c){if(c!=""&&d!=""){this.srcHashTable[d]=c;this.imageCount++}};ImageManager.prototype.getImage=function(d){var c=this.imageHashTable[d];return c};