var Background=function(){this.backgroundImage=null;this.position=new Vector(0,0);this.canvas_width=800;this.canvas_height=500;this.tile_width=0;this.tile_height=0;this.map_tiled_width=0;this.map_tiled_height=0;this.offset_x=0;this.offset_y=0;this.scrolledPos=new Vector(0,0)};Background.prototype.setBackgroundImage=function(b){this.backgroundImage=b.getImage("bg");this.tile_width=this.backgroundImage.width;this.tile_height=this.backgroundImage.height;this.map_tiled_width=Math.ceil((this.canvas_width/this.backgroundImage.width));console.log(this.map_tiled_width);this.map_tiled_height=Math.ceil((this.canvas_height/this.backgroundImage.height));console.log(this.map_tiled_height)};Background.prototype.draw=function(g){for(var j=this.map_tiled_height;j>=0;j--){for(var h=this.map_tiled_width;h>=0;h--){var f=h*this.tile_width;var i=j*this.tile_height;g.drawImage(this.backgroundImage,f,i)}}};Background.prototype.updatePosition=function(b){this.scrolledPos=new Vector(this.scrolledPos.x+b.x,this.scrolledPos.y+b.y);this.offset_x=this.scrolledPos.x;this.offset_y=this.scrolledPos.y;if(Math.abs(this.offset_x)>=this.tile_width){this.scrolledPos.x=this.position.x}if(Math.abs(this.offset_y)>=this.tile_height){this.scrolledPos.y=this.position.y}};