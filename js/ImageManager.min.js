var ImageManager=function(){this.imageHashTable={};this.srcHashTable={};this.imageCount=0;this.loadCount=0};ImageManager.prototype.loadImages=function(c,d){console.log("load images (ImageManager)");var a={};var b;for(b in this.srcHashTable){a[b]=new Image();oldSelf=this;a[b].onload=function(){console.log("tmpImage["+this.id+"].onload");oldSelf.imageHashTable[this.id]=a[this.id];oldSelf.loadCount++;if(oldSelf.loadCount==oldSelf.imageCount){if($.isFunction(d)){d.call(c)}}};a[b].src=this.srcHashTable[b];a[b].id=b}};ImageManager.prototype.addImage=function(a,b){if(b!=""&&a!=""){this.srcHashTable[a]=b;this.imageCount++}};ImageManager.prototype.getImage=function(a){var b=this.imageHashTable[a];return b};